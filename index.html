<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Psic√≥loga Let√≠cia Pavan - Psic√≥loga Infantil. Atendimento infantil com abordagem l√∫dica e personalizada. Agende sua consulta.">
  <meta name="keywords" content="psic√≥logo infantil, desenvolvimento infantil, terapia infantil, psicologia infantil">
  <title>Let√≠cia Pavan | Psic√≥loga Infantil</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="img/favicon.png">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css?v=2.0.0">
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">
      <!-- Brand -->
      <a class="navbar-brand" href="#inicio">
        <span class="fw-bold">Let√≠cia Pavan</span>
        <small class="d-block text-muted" style="font-size: 0.75rem; line-height: 1;">Psic√≥loga Infantil</small>
      </a>

      <!-- Theme Toggle (Desktop) -->
      <div class="d-none d-lg-block">
        <label class="theme-switch">
          <input type="checkbox" id="themeToggle">
          <span class="switch-icons">
            <span class="sun">‚òÄÔ∏è</span>
            <span class="moon">üåô</span>
          </span>
        </label>
      </div>

      <!-- Mobile Toggle Button -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Navigation Menu -->
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link active" href="#inicio">
              <i class="bi bi-house me-1"></i>In√≠cio
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#servicos">
              <i class="bi bi-calendar-check me-1"></i>Agendar
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="por-que-acompanhar.html">
              <i class="bi bi-question-circle me-1"></i>Por qu√™?
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#sobre">
              <i class="bi bi-person me-1"></i>Sobre mim
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#localizacao">
              <i class="bi bi-geo-alt me-1"></i>Localiza√ß√£o
            </a>
          </li>
        </ul>

        <!-- Mobile Theme Toggle -->
        <div class="d-lg-none mt-3 text-center">
          <label class="theme-switch">
            <input type="checkbox" id="themeToggleMobile">
            <span class="switch-icons">
              <span class="sun">‚òÄÔ∏è</span>
              <span class="moon">üåô</span>
            </span>
          </label>
          <small class="d-block text-muted mt-2">Alternar tema</small>
        </div>
      </div>
    </div>
  </nav>

  <main>
    <!-- Hero Section -->
    <section class="hero section-padding" id="inicio">
      <div class="carousel" role="region" aria-label="Galeria de imagens">
        <div class="carousel-images" aria-live="polite">
          <img src="img/fundo01.webp" alt="Fundo terap√™utico" class="carousel-image active">
          <img src="img/fundo02.webp" alt="Ambiente acolhedor" class="carousel-image">
          <img src="img/fundo03.webp" alt="Espa√ßo infantil" class="carousel-image">
        </div>
      </div>
      <div class="hero-content fade-in-section">
        <h1 class="mb-4">Acolhimento e Desenvolvimento</h1>
        <p class="lead mb-5">Atendimento psicol√≥gico infantil personalizado. Um espa√ßo seguro e acolhedor onde cada crian√ßa √© √∫nica e especial, com acompanhamento para desenvolvimento pleno.</p>
        <div class="hero-buttons">
          <a href="por-que-acompanhar.html" class="btn btn-primary btn-lg">
            <i class="bi bi-heart me-2"></i>Por que acompanhar?
          </a>
          <a href="#sobre" class="btn btn-secondary btn-lg">
            <i class="bi bi-person me-2"></i>Sobre mim
          </a>
        </div>
      </div>
    </section>

    <!-- Services Section -->
    <section class="section-padding" id="servicos">
      <div class="container">
        <h2 class="section-title fade-in-section">Acompanhamento Especializado</h2>
        
        <div class="services-grid">
          <div class="card fade-in-section" data-service="Sess√£o Individual" data-price="90,00">
            <div class="card-icon">
              <i class="bi bi-puzzle"></i>
            </div>
            <h3>Sess√£o Individual</h3>
            <p>Atendimento personalizado com dura√ß√£o de 50 minutos, focado nas necessidades espec√≠ficas da crian√ßa.</p>
            <p class="text-muted">Tamb√©m dispon√≠vel acompanhamento individual para pais.</p>
            <div class="mt-auto">
              <div class="badge mb-3">A partir de R$ 90,00</div>
              <button class="btn btn-primary select-service">
                <i class="bi bi-calendar-plus me-2"></i>Agendar Consulta
              </button>
            </div>
          </div>
        </div>

        <!-- Booking Form -->
        <div class="booking-form" id="bookingForm">
          <div class="text-center mb-4">
            <h3>Agendar Sess√£o</h3>
            <p class="selected-service-info">
              <i class="bi bi-check-circle me-2"></i>
              Atendimento selecionado: <span id="selectedService">Nenhum selecionado</span>
            </p>
          </div>
          
          <form id="appointmentForm" class="space-y-lg">
            <div class="form-group">
              <label for="name" class="form-label">
                <i class="bi bi-person me-2"></i>Nome completo
              </label>
              <input type="text" class="form-control" id="name" name="name" required>
            </div>
            
            <div class="form-group">
              <label for="whatsapp" class="form-label">
                <i class="bi bi-whatsapp me-2"></i>WhatsApp
              </label>
              <input type="tel" class="form-control" id="whatsapp" name="whatsapp" pattern="[0-9]{11}" placeholder="(11) 99999-9999" required>
            </div>
            
            <div class="form-group">
              <label for="appointmentDate" class="form-label">
                <i class="bi bi-calendar me-2"></i>Data preferencial
              </label>
              <input type="date" class="form-control" id="appointmentDate" name="appointmentDate" required>
            </div>

            <div id="formFeedback" class="alert alert-error" style="display: none;"></div>
            
            <div class="text-center">
              <button type="submit" class="btn btn-primary btn-lg" id="agendarConsultaBtn">
                <i class="bi bi-whatsapp me-2"></i>Solicitar Agendamento
              </button>
            </div>
            
            <div class="consent-text">
              <small class="text-muted">
                <i class="bi bi-shield-check me-1"></i>
                Ao continuar, voc√™ aceita que os dados fornecidos ser√£o utilizados para contato e agendamento.
              </small>
              <p class="mt-2 mb-0">
                <i class="bi bi-clock me-1"></i>
                <small>Respondo em at√© 24 horas.</small>
              </p>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section class="about-section fade-in-section" id="sobre">
      <div class="text-center">
        <img src="img/01.png" alt="Psic√≥loga Let√≠cia Pavan" class="profile-img">
        <p class="mt-3 text-muted">Psic√≥loga Let√≠cia Pavan - CRP: 18/8701</p>
      </div>
      <div class="about-content">
        <h2>Sobre mim</h2>
        <p>Desde muito jovem, sempre tive uma conex√£o especial com crian√ßas. Minha paix√£o pelo desenvolvimento infantil me levou a escolher a psicologia como profiss√£o, onde encontrei minha verdadeira voca√ß√£o.</p>
        <p>A psicologia infantil me permitiu unir minha paix√£o por ajudar com meu amor pelo universo √∫nico de cada crian√ßa. Dedico minha pr√°tica ao acompanhamento terap√™utico personalizado, criando um espa√ßo onde cada pequeno pode se desenvolver em seu pr√≥prio ritmo.</p>
        <div class="mt-4">
          <a href="https://www.instagram.com/leticiapavaan.psi" target="_blank" class="btn btn-instagram">
            <i class="bi bi-instagram me-2"></i>Siga no Instagram
          </a>
        </div>
      </div>
    </section>

    <!-- Location Section -->
    <section class="location-section fade-in-section" id="localizacao">
      <div class="location-content">
        <h2>
          <i class="bi bi-geo-alt me-2"></i>Localiza√ß√£o
        </h2>
        <p class="lead">
          Instituto Skinner - Av. Paran√° - Lucas do Rio Verde, MT
        </p>
        
        <div class="map-container">
          <iframe 
            src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d971.5970572282529!2d-55.9279343!3d-13.0745641!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x93a0f31519f5bdb5%3A0xbabe92fc6ef849fc!2sInstituto%20Skinner!5e0!3m2!1spt-BR!2sbr!4v1739568331134!5m2!1spt-BR!2sbr" 
            width="600" 
            height="450" 
            style="border:0;" 
            allowfullscreen="" 
            loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
        </div>
        
        <div class="text-center">
          <a href="https://maps.app.goo.gl/ezoycJqQ1H4xit1BA" target="_blank" class="map-link">
            <i class="bi bi-map me-2"></i>Ver no Google Maps
          </a>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="text-center mb-4">
        <a href="https://www.instagram.com/leticiapavaan.psi" target="_blank" class="btn btn-instagram">
          <i class="bi bi-instagram me-2"></i>@leticiapavaan.psi
        </a>
      </div>
      
      <div class="footer-divider"></div>
      
      <p>¬© 2025 Psic√≥loga Let√≠cia Pavan | Psic√≥loga Infantil | CRP: 18/8701</p>
      
      <div class="footer-divider"></div>
      
      <p>
        Site desenvolvido por: 
        <a href="https://lucaspavani.netlify.app/" target="_blank">Lucas Pavani</a>
      </p>
      
      <div class="footer-divider"></div>
      
      <p>
        <a href="politica-privacidade.html">Pol√≠tica de Privacidade e Cookies</a>
      </p>
    </div>
  </footer>

  <!-- Cookie Consent -->
  <div class="cookie-consent" id="cookieConsent">
    <div class="container-fluid">
      <div class="row align-items-center">
        <div class="col-lg-8">
          <p class="mb-0">
            <i class="bi bi-shield-check me-2"></i>
            Usamos cookies para melhorar sua experi√™ncia. 
            <a href="politica-privacidade.html" target="_blank">Leia nossa Pol√≠tica de Privacidade</a>.
          </p>
        </div>
        <div class="col-lg-4 text-lg-end">
          <button class="btn btn-primary" id="acceptCookies">
            <i class="bi bi-check-lg me-1"></i>Aceitar
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  
  <!-- Custom Scripts -->
  <script src="script.js?v=2.0.0"></script>
  <script src="theme.js?v=2.0.0"></script>

  <script>
    // Enhanced Theme Management
    document.addEventListener('DOMContentLoaded', function() {
      // Smooth scrolling for navigation links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });

      // Intersection Observer for animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
          }
        });
      }, observerOptions);

      // Observe all fade-in sections
      document.querySelectorAll('.fade-in-section').forEach(section => {
        observer.observe(section);
      });

      // Active nav link highlighting
      const sections = document.querySelectorAll('section[id]');
      const navLinks = document.querySelectorAll('.navbar-nav .nav-link');

      function highlightNavLink() {
        let current = '';
        sections.forEach(section => {
          const sectionTop = section.offsetTop - 100;
          if (window.scrollY >= sectionTop) {
            current = section.getAttribute('id');
          }
        });

        navLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === `#${current}`) {
            link.classList.add('active');
          }
        });
      }

      window.addEventListener('scroll', highlightNavLink);

      // Enhanced navbar background on scroll
      const navbar = document.querySelector('.navbar');
      function updateNavbar() {
        if (window.scrollY > 50) {
          navbar.style.background = 'rgba(248, 250, 252, 0.95)';
          navbar.style.boxShadow = '0 4px 6px -1px rgba(0, 0, 0, 0.1)';
        } else {
          navbar.style.background = 'rgba(248, 250, 252, 0.8)';
          navbar.style.boxShadow = '0 1px 2px 0 rgba(0, 0, 0, 0.05)';
        }
      }

      window.addEventListener('scroll', updateNavbar);

      // Form enhancements
      const form = document.getElementById('appointmentForm');
      const whatsappInput = document.getElementById('whatsapp');
      
      // Format WhatsApp input
      whatsappInput.addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        if (value.length >= 11) {
          value = value.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
        } else if (value.length >= 7) {
          value = value.replace(/(\d{2})(\d{4})(\d+)/, '($1) $2-$3');
        } else if (value.length >= 3) {
          value = value.replace(/(\d{2})(\d+)/, '($1) $2');
        }
        e.target.value = value;
      });

      // Service selection
      document.querySelectorAll('.select-service').forEach(button => {
        button.addEventListener('click', function() {
          const card = this.closest('.card');
          const service = card.dataset.service;
          const price = card.dataset.price;
          
          document.getElementById('selectedService').textContent = `${service} - R$ ${price}`;
          document.getElementById('bookingForm').classList.add('active');
          
          // Smooth scroll to form
          document.getElementById('bookingForm').scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        });
      });

      // Cookie consent
      const cookieConsent = document.getElementById('cookieConsent');
      const acceptCookies = document.getElementById('acceptCookies');
      
      if (!localStorage.getItem('cookiesAccepted')) {
        cookieConsent.style.display = 'block';
      }
      
      acceptCookies.addEventListener('click', function() {
        localStorage.setItem('cookiesAccepted', 'true');
        cookieConsent.style.display = 'none';
      });

      // Loading states for buttons
      function setButtonLoading(button, loading = true) {
        if (loading) {
          button.classList.add('loading');
          button.disabled = true;
        } else {
          button.classList.remove('loading');
          button.disabled = false;
        }
      }

      // Enhanced form submission
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const submitButton = document.getElementById('agendarConsultaBtn');
        const feedback = document.getElementById('formFeedback');
        
        setButtonLoading(submitButton, true);
        feedback.style.display = 'none';
        
        // Get form data
        const formData = new FormData(form);
        const name = formData.get('name');
        const whatsapp = formData.get('whatsapp').replace(/\D/g, '');
        const date = formData.get('appointmentDate');
        const service = document.getElementById('selectedService').textContent;
        
        // Validate
        if (!name || !whatsapp || !date || service === 'Nenhum selecionado') {
          feedback.textContent = 'Por favor, preencha todos os campos.';
          feedback.style.display = 'block';
          setButtonLoading(submitButton, false);
          return;
        }
        
        // Format date
        const dateObj = new Date(date + 'T12:00:00');
        const formattedDate = dateObj.toLocaleDateString('pt-BR');
        
        // Create WhatsApp message
        const message = `Ol√°! Gostaria de agendar uma consulta.

*Nome:* ${name}
*Servi√ßo:* ${service}
*Data preferencial:* ${formattedDate}
*WhatsApp:* ${whatsapp}

Aguardo retorno para confirma√ß√£o. Obrigado!`;
        
        // WhatsApp URL
        const whatsappURL = `https://wa.me/5565999999999?text=${encodeURIComponent(message)}`;
        
        // Simulate processing time
        setTimeout(() => {
          setButtonLoading(submitButton, false);
          window.open(whatsappURL, '_blank');
          
          // Show success message
          feedback.className = 'alert alert-success';
          feedback.innerHTML = '<i class="bi bi-check-circle me-2"></i>Redirecionando para WhatsApp...';
          feedback.style.display = 'block';
          
          // Reset form after delay
          setTimeout(() => {
            form.reset();
            document.getElementById('bookingForm').classList.remove('active');
            document.getElementById('selectedService').textContent = 'Nenhum selecionado';
            feedback.style.display = 'none';
            feedback.className = 'alert alert-error';
          }, 3000);
        }, 1500);
      });

      // Carousel functionality
      const carouselImages = document.querySelectorAll('.carousel-image');
      let currentImageIndex = 0;
      
      function changeCarouselImage() {
        carouselImages[currentImageIndex].classList.remove('active');
        currentImageIndex = (currentImageIndex + 1) % carouselImages.length;
        carouselImages[currentImageIndex].classList.add('active');
      }
      
      // Change image every 5 seconds
      setInterval(changeCarouselImage, 5000);

      // Preload images for better performance
      carouselImages.forEach(img => {
        const preloadImg = new Image();
        preloadImg.src = img.src;
      });
    });

    // Enhanced theme management
    function initTheme() {
      const savedTheme = localStorage.getItem('theme') || 'light';
      const themeToggle = document.getElementById('themeToggle');
      const themeToggleMobile = document.getElementById('themeToggleMobile');
      
      document.documentElement.setAttribute('data-theme', savedTheme);
      
      if (themeToggle) {
        themeToggle.checked = savedTheme === 'dark';
        themeToggle.addEventListener('change', function() {
          const newTheme = this.checked ? 'dark' : 'light';
          document.documentElement.setAttribute('data-theme', newTheme);
          localStorage.setItem('theme', newTheme);
          
          // Sync mobile toggle
          if (themeToggleMobile) {
            themeToggleMobile.checked = this.checked;
          }
        });
      }
      
      if (themeToggleMobile) {
        themeToggleMobile.checked = savedTheme === 'dark';
        themeToggleMobile.addEventListener('change', function() {
          const newTheme = this.checked ? 'dark' : 'light';
          document.documentElement.setAttribute('data-theme', newTheme);
          localStorage.setItem('theme', newTheme);
          
          // Sync desktop toggle
          if (themeToggle) {
            themeToggle.checked = this.checked;
          }
        });
      }
    }

    // Initialize theme on load
    document.addEventListener('DOMContentLoaded', initTheme);

    // Performance optimizations
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }

    // Debounced scroll handler
    const debouncedScrollHandler = debounce(() => {
      updateNavbar();
      highlightNavLink();
    }, 10);

    window.addEventListener('scroll', debouncedScrollHandler);
  </script>
</body>
</html>